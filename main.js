!function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function s(e){return"function"==typeof e}function o(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function i(e,t){e.appendChild(t)}function c(e){e.parentNode.removeChild(e)}function u(e){return document.createElement(e)}function l(e){return document.createTextNode(e)}function a(){return l(" ")}function f(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function p(e,t){e.value=null==t?"":t}let d;function h(e){d=e}const m=[],g=[],y=[],v=[],$=Promise.resolve();let w=!1;function b(e){y.push(e)}let x=!1;const E=new Set;function _(){if(!x){x=!0;do{for(let e=0;e<m.length;e+=1){const t=m[e];h(t),z(t.$$)}for(h(null),m.length=0;g.length;)g.pop()();for(let e=0;e<y.length;e+=1){const t=y[e];E.has(t)||(E.add(t),t())}y.length=0}while(m.length);for(;v.length;)v.pop()();w=!1,x=!1,E.clear()}}function z(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(b)}}const N=new Set;function T(e,t){-1===e.$$.dirty[0]&&(m.push(e),w||(w=!0,$.then(_)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function k(o,i,u,l,a,f,p=[-1]){const m=d;h(o);const g=o.$$={fragment:null,ctx:null,props:f,update:e,not_equal:a,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(m?m.$$.context:i.context||[]),callbacks:n(),dirty:p,skip_bound:!1};let y=!1;if(g.ctx=u?u(o,i.props||{},((e,t,...n)=>{const r=n.length?n[0]:t;return g.ctx&&a(g.ctx[e],g.ctx[e]=r)&&(!g.skip_bound&&g.bound[e]&&g.bound[e](r),y&&T(o,e)),t})):[],g.update(),y=!0,r(g.before_update),g.fragment=!!l&&l(g.ctx),i.target){if(i.hydrate){const e=function(e){return Array.from(e.childNodes)}(i.target);g.fragment&&g.fragment.l(e),e.forEach(c)}else g.fragment&&g.fragment.c();i.intro&&((v=o.$$.fragment)&&v.i&&(N.delete(v),v.i($))),function(e,n,o,i){const{fragment:c,on_mount:u,on_destroy:l,after_update:a}=e.$$;c&&c.m(n,o),i||b((()=>{const n=u.map(t).filter(s);l?l.push(...n):r(n),e.$$.on_mount=[]})),a.forEach(b)}(o,i.target,i.anchor,i.customElement),_()}var v,$;h(m)}class A{constructor(e,t){switch(this.fn=e,this.precedence=t,e){case"-":case"+":case"*":case"/":this.associativity=A.LEFT_ASSOCIATIVE;break;case"^":this.associativity=A.RIGHT_ASSOCIATIVE;break;default:throw new Error(`Unknown operator ${e}`)}}hasGreaterPrecedenceThan(e){return this.precedence>e.precedence}hasSamePrecedenceTo(e){return this.precedence===e.precedence}isLeftAssociative(){return this.associativity===A.LEFT_ASSOCIATIVE}calculate(e,t){switch(this.fn){case"+":return(e||0)+(t||0);case"-":return(e||0)-(t||0);case"*":return(void 0!==e?e:1)*(void 0!==t?t:1);case"/":if(0===t)throw new Error(`Can not divide ${e} by zero`);return(void 0!==e?e:1)/(t||1);case"^":if(0===e&&0===t)throw new Error("0^0 is not a numeric value");return Math.pow(void 0!==e?e:1,void 0!==t?t:1)}}}A.LEFT_ASSOCIATIVE=0,A.RIGHT_ASSOCIATIVE=1;class I{constructor(){this.items=[]}push(e){this.items.push(e)}pop(){const e=this.items.shift();if(!e)throw new Error("Queue is empty");return e}isEmpty(){return 0===this.items.length}}class S{constructor(){this.items=[]}push(e){this.items.push(e)}pop(){return this.items.splice(-1)[0]}top(){return this.items[this.items.length-1]}length(){return this.items.length}isEmpty(){return 0===this.items.length}}function C(t){let n,r,s,o,d,h,m,g,y,v,$,w,b,x,E;return{c(){n=u("div"),r=u("div"),r.innerHTML='<h1>Evaluate Numeric Expressions (Playground)</h1> \n    <a href="https://github.com/craftsys/eval-num-expr">GitHub</a>',s=a(),o=u("div"),d=u("div"),h=u("div"),m=u("label"),m.textContent="Expressions",g=a(),y=u("input"),v=a(),$=u("h2"),w=l("Value: "),b=l(t[1]),f(r,"class","p-4 svelte-1f5y2zm"),f(m,"for","string"),f(y,"id","string"),f(y,"type","text"),f(y,"class","block w-full p-4 text-lg outline-none rounded-lg border svelte-1f5y2zm"),f(y,"placeholder","1 + 10 x 1000 / 20"),f(h,"class","flex-1 pr-4 svelte-1f5y2zm"),f(d,"class","flex svelte-1f5y2zm"),f(o,"class","p-4 svelte-1f5y2zm"),f(n,"class","max-w-sm mx-auto svelte-1f5y2zm")},m(e,c){var u,l,a,f;!function(e,t,n){e.insertBefore(t,n||null)}(e,n,c),i(n,r),i(n,s),i(n,o),i(o,d),i(d,h),i(h,m),i(h,g),i(h,y),p(y,t[0]),i(o,v),i(o,$),i($,w),i($,b),x||(u=y,l="input",a=t[2],u.addEventListener(l,a,f),E=()=>u.removeEventListener(l,a,f),x=!0)},p(e,[t]){1&t&&y.value!==e[0]&&p(y,e[0]),2&t&&function(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}(b,e[1])},i:e,o:e,d(e){e&&c(n),x=!1,E()}}}function O(e,t,n){let r,s;return e.$$.update=()=>{1&e.$$.dirty&&n(1,s=r?function(e){try{return`${function(e){var t,n;const r=[new A("-",2),new A("+",2),new A("/",3),new A("*",3),new A("^",4)],s=function(e){e=e.replace(/\s/gi,"").replace(/%/gi,"/100").replace(/[xX]/gi,"*").replace(/[^+-/*^\d().]/g,"").replace(/,/g,"");const t=["-","+","/","*","^","(",")"],n=[];let r="";for(let s=0;s<e.length;s++){const o=e[s];-1!==t.indexOf(o)?(r&&(n.push(r),r=""),n.push(o)):r+=o}return r&&n.push(r),n}(e),o=new I,i=new S;for(let e=0;e<s.length;e++){const c=s[e],u=r.find((e=>e.fn===c));if(isNaN(Number(c))){if(u){if(e===s.length-1)break;for(;!i.isEmpty()&&"("!==i.top()&&((null===(t=r.find((e=>e.fn===i.top())))||void 0===t?void 0:t.hasGreaterPrecedenceThan(u))||(null===(n=r.find((e=>e.fn===i.top())))||void 0===n?void 0:n.hasSamePrecedenceTo(u))&&u.isLeftAssociative());)o.push(i.pop());i.push(u.fn)}else if("("===c)i.push("(");else if(")"===c){for(;!i.isEmpty()&&"("!==i.top();)o.push(i.pop());if("("===i.top())i.pop();else if(i.isEmpty())throw new Error('Missing "("')}}else o.push(c)}for(;!i.isEmpty();){if("("===i.top()||")"===i.top())throw new Error(`Mismatch "${i.top()}"`);o.push(i.pop())}const c=new S,u=Number(o.pop());if(isNaN(u))throw new Error("First value should be a numeric value");for(c.push(u);!o.isEmpty();){const e=o.pop();if(!isNaN(Number(e))&&isFinite(Number(e)))c.push(Number(e));else{const t=new A(e,1),n=c.pop(),r=c.pop(),s=t.calculate(r,n);isNaN(s)?console.error(`Invalid value: ${s}`):c.push(s)}}if(c.length()>1)throw new Error("Missing operators.");return c.pop()}(e)}`}catch(e){return e.message}}(r):"")},n(0,r=""),[r,s,function(){r=this.value,n(0,r)}]}new class extends class{$destroy(){!function(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}{constructor(e){var t;super(),document.getElementById("svelte-1f5y2zm-style")||((t=u("style")).id="svelte-1f5y2zm-style",t.textContent=".outline-none.svelte-1f5y2zm{outline:none !important}.block.svelte-1f5y2zm{display:block}.flex.svelte-1f5y2zm{display:flex}.flex-1.svelte-1f5y2zm{flex:1}.w-full.svelte-1f5y2zm{width:100%}.p-4.svelte-1f5y2zm{padding:1rem}.pr-4.svelte-1f5y2zm{padding-right:1rem}.text-lg.svelte-1f5y2zm{font-size:1.25rem}.max-w-sm.svelte-1f5y2zm{max-width:756px}.mx-auto.svelte-1f5y2zm{margin-left:auto;margin-right:auto}.rounded-lg.svelte-1f5y2zm{border-radius:1rem}.border.svelte-1f5y2zm{border:2px solid black}",i(document.head,t)),k(this,e,O,C,o,{})}}({target:document.getElementById("root")})}();
//# sourceMappingURL=main.js.map
